name: CI for HTML, CSS, and Performance

on:
  push:
    branches:
      - main  # Runs when you push to the main branch
  pull_request:
    branches:
      - main  # Runs for pull requests targeting the main branch

jobs:
  lint:
    runs-on: ubuntu-latest  # GitHub Actions runner for Ubuntu
    
    steps:
      - name: Checkout Code
        uses: actions/checkout@v2  # Checkout your repository code
        
      - name: Set Up Node.js
        uses: actions/setup-node@v2
        with:
          node-version: '16'  # Set up Node.js for the workflow

      - name: Install HTMLHint and Stylelint
        run: |
          npm install -g htmlhint stylelint  # Install linters globally

      - name: Run HTMLHint on HTML Files
        run: htmlhint '**/*.html'  # Lint all HTML files in the repository

      - name: Run Stylelint on CSS Files
        run: stylelint '**/*.css'  # Lint all CSS files in the repository

  performance:
    runs-on: ubuntu-latest  # Runs this job on an Ubuntu runner
    
    steps:
      - name: Checkout Code
        uses: actions/checkout@v2  # Checkout repository code

      - name: Set Up Node.js
        uses: actions/setup-node@v2
        with:
          node-version: '16'  # Set up Node.js for Lighthouse CI

      - name: Install Lighthouse CI
        run: |
          npm install -g @lhci/cli  # Install Lighthouse CI tool globally

      - name: Run Lighthouse Performance Tests
        run: |
          lhci autorun --url=https://your-deployment-url.com  # Replace with your app URL
